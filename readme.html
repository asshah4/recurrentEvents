<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>card • card</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="card"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">card</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="external-link nav-link" href="https://shah-in-boots.github.io/"><span class="fa fas fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/Cosinor.html">cosinor</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/shah-in-boots/card/"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>card</h1>
      <small class="dont-index">Source: <a href="https://github.com/shah-in-boots/card/blob/main/readme.md" class="external-link"><code>readme.md</code></a></small>
    </div>


<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a> <a href="https://CRAN.R-project.org/package=card" class="external-link"><img src="https://www.r-pkg.org/badges/version/card" alt="CRAN status"></a> <a href="https://cran.r-project.org/package=card" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/grand-total/card?color=blue"></a> <a href="https://github.com/shah-in-boots/card/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/shah-in-boots/card/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a> <a href="https://github.com/shah-in-boots/card/actions/workflows/pkgdown.yaml" class="external-link"><img src="https://github.com/shah-in-boots/card/actions/workflows/pkgdown.yaml/badge.svg" alt="pkgdown"></a> <a href="https://github.com/shah-in-boots/card/actions/workflows/test-coverage.yaml" class="external-link"><img src="https://github.com/shah-in-boots/card/actions/workflows/test-coverage.yaml/badge.svg" alt="test-coverage"></a> <a href="https://app.codecov.io/gh/shah-in-boots/card?branch=main" class="external-link"><img src="https://codecov.io/gh/shah-in-boots/card/branch/main/graph/badge.svg" alt="Codecov test coverage"></a> <a href="https://github.com/shah-in-boots/card/graphs/commit-activity" class="external-link"><img src="https://img.shields.io/github/commit-activity/w/shah-in-boots/card" alt="Github commit frequency"></a> <!-- badges: end --></p>
<div id="card" class="section level1">

<div class="section level2">
<h2 id="cardiovascular-applications-for-research-data">Cardiovascular Applications for Research Data<a class="anchor" aria-label="anchor" href="#cardiovascular-applications-for-research-data"></a></h2>
<p>The inspiration for <a href="https://cran.r-project.org/package=card" class="external-link">card</a> was to create useful functions and analytical approaches in computational neurocardiology, with a on electrocardiography and epidemiology.</p>
<p>The areas of focus of this package are the following:</p>
<ul><li>handling of recurrent and circadian events</li>
<li>epidemiological focus on effective model building</li>
</ul></div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a></h2>
<p>You can install the released version of <a href="https://cran.r-project.org/package=card" class="external-link">card</a> from <a href="https://CRAN.R-project.org" class="external-link">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"card"</span><span class="op">)</span></span></code></pre></div>
<p>And the development version from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"shah-in-boots/card"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h2>
<p>The intent for this <code>card</code> is to develop several key functions for the analysis of recurrent or cyclical data, and assistance with epidemiological approaches to regression modeling.</p>
<p>The key features are:</p>
<ol style="list-style-type: decimal"><li>Sample datasets</li>
<li>Cosinor analysis</li>
<li>Recurrent events</li>
<li>Model building</li>
</ol><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://cran.r-project.org/package=card" class="external-link">card</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="datasets">Datasets<a class="anchor" aria-label="anchor" href="#datasets"></a></h3>
<ul><li>Cardiovascular disease outcomes with recurrent events</li>
<li>Vectorcardiography data in a high-risk cohort</li>
<li>Continuous electrocardiography recordings in a clinical cohort with quantitative stress data</li>
</ul><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># ECG data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"twins"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">twins</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 23</span></span>
<span><span class="co">#&gt; # Groups:   patid, hour [6]</span></span>
<span><span class="co">#&gt;   patid   age   bmi race  smoking hptn  dm    chf   prevchd med_beta_blockers</span></span>
<span><span class="co">#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt; &lt;fct&gt;   &lt;fct&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;   &lt;fct&gt;            </span></span>
<span><span class="co">#&gt; 1     1    49  27.4 0     1       1     0     0     0       0                </span></span>
<span><span class="co">#&gt; 2     1    49  27.4 0     1       1     0     0     0       0                </span></span>
<span><span class="co">#&gt; 3     1    49  27.4 0     1       1     0     0     0       0                </span></span>
<span><span class="co">#&gt; 4     1    49  27.4 0     1       1     0     0     0       0                </span></span>
<span><span class="co">#&gt; 5     1    49  27.4 0     1       1     0     0     0       0                </span></span>
<span><span class="co">#&gt; 6     1    49  27.4 0     1       1     0     0     0       0                </span></span>
<span><span class="co">#&gt; # ℹ 13 more variables: med_antidepr &lt;fct&gt;, beck_total &lt;dbl&gt;, sad_bin &lt;fct&gt;,</span></span>
<span><span class="co">#&gt; #   sad_cat &lt;fct&gt;, PETdiff_2 &lt;fct&gt;, dyxtime &lt;dttm&gt;, date &lt;date&gt;, hour &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   rDYX &lt;dbl&gt;, sDYX &lt;dbl&gt;, HR &lt;dbl&gt;, CP &lt;dbl&gt;, zip &lt;chr&gt;</span></span>
<span></span>
<span><span class="co"># Outcomes data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"stress"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">stress</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 11</span></span>
<span><span class="co">#&gt;      id start      stop       head_ache_date_1 head_ache_date_2 head_ache_date_3</span></span>
<span><span class="co">#&gt;   &lt;dbl&gt; &lt;date&gt;     &lt;date&gt;     &lt;date&gt;           &lt;date&gt;           &lt;date&gt;          </span></span>
<span><span class="co">#&gt; 1   123 2014-08-26 2016-12-08 2016-12-08       NA               NA              </span></span>
<span><span class="co">#&gt; 2   117 2014-08-12 2016-10-30 2016-10-30       NA               NA              </span></span>
<span><span class="co">#&gt; 3   145 2014-10-22 2016-07-31 2016-06-01       2016-07-31       NA              </span></span>
<span><span class="co">#&gt; 4   144 2014-10-21 2017-03-24 2015-02-12       NA               NA              </span></span>
<span><span class="co">#&gt; 5   204 2015-03-16 2015-04-03 NA               NA               NA              </span></span>
<span><span class="co">#&gt; 6   283 2015-10-12 2016-01-19 NA               NA               NA              </span></span>
<span><span class="co">#&gt; # ℹ 5 more variables: heart_ache_date_1 &lt;date&gt;, heart_ache_date_2 &lt;date&gt;,</span></span>
<span><span class="co">#&gt; #   heart_ache_date_3 &lt;date&gt;, death &lt;dbl&gt;, broken_heart &lt;dbl&gt;</span></span>
<span></span>
<span><span class="co"># VCG data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"geh"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">geh</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 70</span></span>
<span><span class="co">#&gt;      pid hhp_id   age sex   age_cat systolic_bp_first systolic_bp_second</span></span>
<span><span class="co">#&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt; &lt;fct&gt;               &lt;dbl&gt;              &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 200481 220946    42 0     0                     162                165</span></span>
<span><span class="co">#&gt; 2 200489 224643    62 1     1                     133                128</span></span>
<span><span class="co">#&gt; 3 200495 224845    84 0     2                     100                 99</span></span>
<span><span class="co">#&gt; 4 200052 222917    65 0     2                     139                141</span></span>
<span><span class="co">#&gt; 5 200517 220638    64 1     1                     166                163</span></span>
<span><span class="co">#&gt; 6 200623 224862    57 0     1                     151                144</span></span>
<span><span class="co">#&gt; # ℹ 63 more variables: systolic_bp_third &lt;dbl&gt;, diastolic_bp_first &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   diastolic_bp_second &lt;dbl&gt;, diastolic_bp_third &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   pulse_rate_first &lt;dbl&gt;, pulse_rate_second &lt;dbl&gt;, height_cm &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   weight_kg &lt;dbl&gt;, waist_cm &lt;dbl&gt;, dia_trt_allopdrug &lt;hvn_lbll&gt;,</span></span>
<span><span class="co">#&gt; #   hbp_trt_allopdrug &lt;hvn_lbll&gt;, hyp_trt_allopdrug &lt;hvn_lbll&gt;,</span></span>
<span><span class="co">#&gt; #   lab_hba1c &lt;dbl&gt;, lab_fasting_bg &lt;dbl&gt;, lab_fasting_insulin &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   lab_tchol &lt;dbl&gt;, lab_ldlchol &lt;dbl&gt;, lab_hdlchol &lt;dbl&gt;, lab_triglyc &lt;dbl&gt;, …</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="cosinor-analysis">Cosinor Analysis<a class="anchor" aria-label="anchor" href="#cosinor-analysis"></a></h3>
<p>This modeling algorithm requires only base <code>R</code>, which allows internal flexibility for modeling heuristics and improved efficiency. For the user, it also allows standard modeling tools/approaches, and a flexible user interface that accounts for individual/population analysis and single/multiple component analysis.</p>
<p>There are other cosinor models available in <code>R</code>, however they do not allow for simple multiple-component or individual/population analysis in a method that is tidy (for both <code>tidyverse</code> and <code>tidymodels</code> approaches).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cosinor.html">cosinor</a></span><span class="op">(</span><span class="va">rDYX</span> <span class="op">~</span> <span class="va">hour</span>, <span class="va">twins</span>, tau <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">24</span>, <span class="fl">12</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span>
<span><span class="co">#&gt; Individual Cosinor Model </span></span>
<span><span class="co">#&gt; ------------------------------------------</span></span>
<span><span class="co">#&gt; Call: </span></span>
<span><span class="co">#&gt; cosinor(formula = rDYX ~ M + A1 * cos(2*pi*hour/24 + phi1) + A2 * cos(2*pi*hour/12 + phi2) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Period(s): 24, 12 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals: </span></span>
<span><span class="co">#&gt;     Min.  1st Qu.   Median     Mean  3rd Qu.     Max. </span></span>
<span><span class="co">#&gt; -3.00770 -0.52024 -0.03247  0.00000  0.48753  4.88552 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients: </span></span>
<span><span class="co">#&gt;         Estimate  Std. Error</span></span>
<span><span class="co">#&gt; mesor  2.8586510 0.006062639</span></span>
<span><span class="co">#&gt; amp1   0.2964114 0.008702368</span></span>
<span><span class="co">#&gt; amp2   0.1302012 0.008542526</span></span>
<span><span class="co">#&gt; phi1  -2.6542757 0.028911445</span></span>
<span><span class="co">#&gt; phi2  -3.6636921 0.065235427</span></span>
<span><span class="fu"><a href="reference/ggcosinor.html">ggcosinor</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span>
<span><span class="co">#&gt; This is a harmonic multiple-component cosinor object. The orthophase, bathyphase, and global amplitude were calculated.</span></span>
<span><span class="co">#&gt; Warning in regularize.values(x, y, ties, missing(ties)): collapsing to unique</span></span>
<span><span class="co">#&gt; 'x' values</span></span>
<span><span class="co">#&gt; `geom_smooth()` using formula = 'y ~ s(x, bs = "cs")'</span></span></code></pre></div>
<p><img src="reference/figures/unnamed-chunk-6-1.png" width="100%"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://generics.r-lib.org/reference/augment.html" class="external-link">augment</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 8</span></span>
<span><span class="co">#&gt;       y     t     x1        x2        z1        z2 .fitted .resid</span></span>
<span><span class="co">#&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1  2.63     8 -0.5   -5.00e- 1  8.66e- 1 -8.66e- 1    3.22 -0.592</span></span>
<span><span class="co">#&gt; 2  2.42     9 -0.707 -1.84e-16  7.07e- 1 -1   e+ 0    3.21 -0.787</span></span>
<span><span class="co">#&gt; 3  1.81    10 -0.866  5   e- 1  5   e- 1 -8.66e- 1    3.15 -1.34 </span></span>
<span><span class="co">#&gt; 4  2.01    11 -0.966  8.66e- 1  2.59e- 1 -5.00e- 1    3.08 -1.07 </span></span>
<span><span class="co">#&gt; 5  1.63    12 -1      1   e+ 0  1.22e-16 -2.45e-16    3.01 -1.38 </span></span>
<span><span class="co">#&gt; 6  1.95    13 -0.966  8.66e- 1 -2.59e- 1  5   e- 1    2.95 -0.996</span></span></code></pre></div>
</div>
</div>
</div>


  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Anish S. Shah.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1. Colorspace from the <strong>BurgYl</strong> palette</p>
</div>

    </footer></div>





  </body></html>

